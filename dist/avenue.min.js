var Avenue=function(){"use strict";function e(e){function n(e,n){return f.querySelectorAll("[data-"+e+"-"+n+"]")}var t=Object.keys(e.types),i={};return t.forEach(function(t,o){i[t]=n(e.prefix,e.type[t])}),i}function n(e,n){c(e,function(e){e.addEventListener("click",function(t){n(e,t)},!1)})}function t(e,n,t){function i(e,n){return e+n.substr(0,1).toUpperCase()+n.substr(1)}return e.dataset[i(n,t)]}function i(e,n){function t(e,t){var o={instance:i},r=[n,o];t&&r.push(t),e.apply(i,r)}var i=this;i.plugins.forEach(function(n){var i=n[0][e];i&&t(i,n[1])}),t(i.events[e])}function o(){var i=this;return d(i.options.slugPrepend),i.elements=e(i.options.attributes),i.options.autobind&&(n(i.elements.link,function(e){var n=t(e,i.options.prefix,i.options.type.link);i.moveTo(n)}),n(i.element.pagination,function(e){var n=t(e,i.options.prefix,i.options.type.pagination);i.moveBy(+n)})),i}function r(e){var n=this;if(n.data.ids.indexOf(e)>-1){var t=n.data.ids.indexOf(e);i.call(n,"beforeMove",{id:e,index:t,element:n.elements.field[t]}),n.data.activeId=e,n.data.index=t,l.call(n.options.slugPrepend,e),i.call(n,"afterMove",{id:e,index:t,element:n.elements.field[t]})}return n}function a(e){var n=this,t=n.data.ids[n.data.index+e];if(void 0!==t)return r.call(n,t)}var u=window,f=u.document,s=u.location,c=function(e,n){[].forEach.call(e,function(e){n(e)})},l=function(e,n){s.hash=e+n},d=function(e){return s.hash.replace(e,"").replace("#","")},p=function(e,n,t){var i=this;e=e||{},i.options={autobind:e.autobind||!0,slugPrepend:e.slugPrepend||"",attributes:{prefix:"router",type:{field:"section",fieldDefault:"default",link:"href",pagination:"pagin",source:"src"}}},n=n||{},i.events={beforeInit:n.beforeInit||function(){},afterInit:n.afterInit||function(){},beforeMove:n.beforeMove||function(){},afterMove:n.afterMove||function(){}},i.plugins=t||[],i.data={ids:[],activeId:null,defaultId:null,index:0},i.elements={}};return p.prototype={init:o,moveTo:r,moveBy:a,moveForward:function(){return this.moveBy(1)},moveBackward:function(){return this.moveBy(-1)}},p}();