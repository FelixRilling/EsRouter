var Avenue=function(){"use strict";var e=window,t=e.document,n=e.location,i=function(e,t){return"[data-"+e+"-"+t+"]"},a=function(e,t){return e+t.substr(0,1).toUpperCase()+t.substr(1)},r=function(e,t,n){return e.dataset[a(t,n)]},o=function(e,t,n,i){e.dataset[a(t,n)]=i},u=function(e){var n=Object.keys(e.types),a={};return n.forEach(function(n,r){var o=i(e.prefix,e.types[n]);a[n]=t.querySelectorAll(o)}),a},s=function(e,t){[].forEach.call(e,function(e){t(e)})},f=function(e,t,n){s(e,function(e){e.addEventListener(t,function(t){n(e,t)},!1)})},d=function(e,t,n,i,a){if("function"==typeof e){var r=[t,n];i&&r.push(i),a&&r.push(a),e.apply(null,r)}},l=function(e,t){n.hash=e+t},c=function(e){return n.hash.replace(e,"").replace("#","")},p=function(e,t){if(e.data.ids.indexOf(t)>-1){var n=e.data.ids.indexOf(t),i=e.elements.field[n];b(e,"beforeMove",{id:t,index:n,element:i}),e.data.activeId=t,e.data.index=n,l(e.options.slugPrepend,t),b(e,"afterMove",{id:t,index:n,element:i})}return e},v=function(e,t){var n=e.data.ids[e.data.index+t];if("undefined"!=typeof n)return p(e,n)},m=function(e){return{data:e.data,options:e.options,elements:e.elements,callback:d,util:{eachNode:s},move:{moveTo:function(t){return p(e,t)},moveBy:function(t){return v(e,t)}},slug:{setSlug:l,getSlug:c},dom:{queryElements:u,bind:f,readData:r,writeData:o}}},b=function(e,t,n){var i=e.plugins,a=m(e);i.active.forEach(function(e){var r=i.container[e.name];if(!r)throw"Missing plugin "+e.name;d(r[t],n,a,e.options,e.events)}),d(e.events[t],n,a)},h=function(){var e=this,t=e.options,n=c(e.options.slugPrepend);return b(e,"beforeInit",{}),e.elements=u(t.attributes),t.autobind&&(f(e.elements.link,"click",function(n){var i=r(n,t.attributes.prefix,t.attributes.types.link);p(e,i)}),f(e.elements.pagination,"click",function(n){var i=Number(r(n,t.attributes.prefix,t.attributes.types.pagination));v(e,i)})),s(e.elements.field,function(n){var i=r(n,t.attributes.prefix,t.attributes.types.field);n===e.elements.fieldDefault[0]&&(e.data.defaultId=i),e.data.ids.push(i)}),""!==n?p(e,n):p(e,e.data.defaultId),b(e,"afterInit",{}),e},y=function(e,t){var n=t.elements.field,i=e.element;s(n,function(e){e.style.display="none"}),i.style.display="inherit"},g=function e(t,n,i){var a=this;t=t||{},a.options={autobind:t.autobind||!0,slugPrepend:t.slugPrepend||"",attributes:{prefix:"router",types:{field:"section",fieldDefault:"default",link:"href",pagination:"pagin",source:"src"}}},n=n||{},a.events={beforeInit:n.beforeInit,afterInit:n.afterInit,beforeMove:n.beforeMove,afterMove:n.afterMove||y},a.plugins={active:i||[],container:e.plugins},a.data={ids:[],activeId:null,defaultId:null,index:0},a.elements={}};return g.plugins={},g.prototype={init:h,moveTo:function(e){return p(this,e)},moveBy:function(e){return v(this,e)},moveForward:function(){return v(this,1)},moveBackward:function(){return v(this,-1)}},g}();
//# sourceMappingURL=avenue.min.js.map
