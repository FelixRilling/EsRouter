"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){var b=a.location;a.esRouter=function(){function a(b,c){_classCallCheck(this,a);var d=this;d.events={before:c.before,done:c.done,fail:c.fail,always:c.always},d.options={ajax:b.ajax||!1,log:b.log||!1},d.slug={f:b.slug.f||!1,g:b.slug.g||!1,b:"string"==typeof b.slug.b?b.slug.b:"#",c:"string"==typeof b.slug.c?b.slug.c:""},d.slug.a=(d.slug.f?"/":"")+d.slug.b+d.slug.c,b.e=b.e||{},d.dom={getElements:function(a){for(var b=0;b<a.length;b++){var c=d.dom.e.buildAttr(d.dom.e.d,d.dom.e[a[b]]);d.dom.e.a[a[b]]=c,d.dom.elements[a[b]]=document.querySelectorAll("["+c[0]+"]")||[]}},e:{buildAttr:function(a,b){function c(a,b){return"data-"+a+"-"+b}function d(a,b){return a+b[0].toUpperCase()+b.substr(1)}return[c(a,b),d(a,b)]},types:["section","i","j","k"],d:b.e.d||"router",section:b.e.section||"section",i:b.e.i||"default",j:b.e.j||"href",k:b.e.k||"pagin",a:{}},elements:{}},d.data={active:null,activeId:null,defaultId:null,index:0}}return _createClass(a,[{key:"init",value:function(){function a(){if(c.n(c.dom.elements.section)||c.s.call(this,0),c.n(c.dom.elements.i)){c.data.defaultId=c.dom.elements.i[0].dataset[c.dom.e.a.section[1]];var a=c.slugGet();c.o("init",c.data.defaultId),c.moveTo(a)}else c.s.call(this,1)}function b(){c.m(c.dom.elements.j,function(a){a.addEventListener("click",function(a){c.moveTo(parseInt(a.target.dataset[c.dom.e.a.j[1]]))})}),c.m(c.dom.elements.k,function(a){a.addEventListener("click",function(a){c.moveBy(parseInt(a.target.dataset[c.dom.e.a.k[1]]))})})}var c=this;c.dom.getElements(c.dom.e.types),a(),b()}},{key:"moveTo",value:function(a,b){var c=this;c.l(c.events.before,[a,c]),c.o("move",a);var d=function(a){var b=c.p(c.dom.elements.section,c.dom.e.a.section[1],a);return c.n(b)?(c.data.activeId=a,c.data.active=b,c.data.index=c.r(),!0):!1}(a);return d?(c.slugSet(c.data.activeId),c.l(c.events.done,[c.data.active,c.data.activeId,c.data.index,c])):b?(c.l(c.events.fail,[a,c]),c.s.call(this,2)):(c.o("warning",a+" not found"),c.moveTo(c.data.defaultId,!0)),c.l(c.events.always,[c.data.active,c.data.activeId,c.data.index,c]),d}},{key:"moveBy",value:function(a){var b=this,c=b.data.index;return b.n(b.dom.elements.section[c+a])?b.moveTo(b.dom.elements.section[c+a].dataset[b.dom.e.a.section[1]]):(b.o("info","index "+a+" not found"),!1)}},{key:"moveForward",value:function(){return this.moveBy(1)}},{key:"moveBackward",value:function(){return this.moveBy(-1)}},{key:"slugGet",value:function(a){var c=this;return b.href.lastIndexOf(this.slug.a)>-1?b.href.substr(b.href.lastIndexOf(c.slug.a)+c.slug.a.length+(c.slug.f?1:0)):a?void c.s.call(this,3):(c.slugInit(c.data.defaultId),c.slugGet(!0))}},{key:"slugSet",value:function(a){b.href=b.href.substr(0,b.href.lastIndexOf(this.slug.a)+this.slug.a.length)+a}},{key:"slugInit",value:function(a){b.href=b.href+this.slug.a+a}},{key:"r",value:function(){var a=this;return a.q(a.dom.elements.section,a.data.active)}},{key:"q",value:function(a,b){var c=void 0;return this.m(a,function(a,d){a===b&&(c=d)}),c}},{key:"p",value:function(a,b,c){var d=void 0;return this.m(a,function(a){a.dataset[b]===c&&(d=a)}),d}},{key:"m",value:function(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}},{key:"l",value:function(a,b){"function"==typeof a&&a.apply(this,b)}},{key:"o",value:function(a,b){this.options.log}},{key:"s",value:function(a){throw Error("esRouter error: "+a,this)}},{key:"n",value:function(a){return"undefined"!=typeof a}}]),a}()}(window);