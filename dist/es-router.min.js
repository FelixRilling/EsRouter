"use strict";var EsRouter=function(){function e(e){function n(e,n){return f.querySelectorAll("[data-"+e+"-"+n+"]")}var t=Object.keys(e.fields),i={};return t.forEach(function(t,o){i[t]=n(e.prefix,e.fields[t])}),i}function n(e,n,t){function i(e,n){return e+n.substr(0,1).toUpperCase()+n.substr(1)}return e.dataset[i(n,t)]}function t(e,t){function i(e,n){s(e,function(e){e.addEventListener("click",function(t){n(e,t)},!1)})}var o=this;i(e.link,function(e){var i=n(e,t.prefix,t.fields.link);o.moveTo(i)}),i(e.pagination,function(e){var i=n(e,t.prefix,t.fields.pagination);o.moveBy(+i)})}function i(i,o){function a(i,a){var l=[o,{dom:{queryElements:e,bindEvents:t,readData:n},slug:{getSlug:c,setSlug:d}}];a&&l.push(a),i.apply(r,l)}var r=this;r.plugins.forEach(function(e){a(e[0][i],e[1])}),a(r.events[i])}function o(){var o=this,a=c.call(o);return i.call(o,"beforeInit",{}),o.elements=e(o.options.elements),o.options.autobind&&t.call(o,o.elements,o.options.elements),s(o.elements.field,function(e){var t=n(e,o.options.elements.prefix,o.options.elements.fields.field);o.data.ids.push(t),e===o.elements.fieldDefault[0]&&(o.data.defaultId=t)}),""!==a?o.moveTo(a):o.moveTo(o.data.defaultId),i.call(o,"afterInit",{}),o}function a(e){var n=this;if(n.data.ids.indexOf(e)>-1){var t=n.data.ids.indexOf(e);i.call(n,"beforeMove",{id:e,index:t,element:n.elements.field[t]}),n.data.activeId=e,n.data.index=t,d.call(n,e),i.call(n,"afterMove",{id:e,index:t,element:n.elements.field[t]})}return n}function r(e){var n=this,t=n.data.ids[n.data.index+e];if(void 0!==t)return a.call(n,t)}var l=window,f=l.document,u=l.location,s=function(e,n){[].forEach.call(e,function(e){n(e)})},d=function(e){u.hash=this.options.slug.prepend+e},c=function(){return u.hash.replace(this.options.slug.prepend,"").replace("#","")},v=function(e,n,t){var i=this;i.options={autobind:e.autobind||!0,slug:{prepend:""},elements:{prefix:"router",fields:{field:"section",fieldDefault:"default",link:"href",pagination:"pagin",source:"src"}}},i.events={beforeInit:n.beforeInit||function(){},afterInit:n.afterInit||function(){},beforeMove:n.beforeMove||function(){},afterMove:n.afterMove||function(){}},i.plugins=t,i.data={ids:[],activeId:null,defaultId:null,index:0},i.elements={}};return v.prototype={init:o,moveTo:a,moveBy:r,moveForward:function(){return this.moveBy(1)},moveBackward:function(){return this.moveBy(-1)}},v}();