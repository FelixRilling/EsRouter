"use strict";var EsRouter=function(){function e(e){function n(e,n){return f.querySelectorAll("[data-"+e+"-"+n+"]")}var t=Object.keys(e.fields),i={};return t.forEach(function(t,o){i[t]=n(e.prefix,e.fields[t])}),i}function n(e,n,t){function i(e,n){return e+n.substr(0,1).toUpperCase()+n.substr(1)}return e.dataset[i(n,t)]}function t(e,t){function i(e,n){s(e,function(e){e.addEventListener("click",function(t){n(e,t)},!1)})}var o=this;i(e.link,function(e){var i=n(e,t.prefix,t.fields.link);o.moveTo(i)}),i(e.pagination,function(e){var i=n(e,t.prefix,t.fields.pagination);o.moveBy(+i)})}function i(e){var n=this;if(n.data.ids.indexOf(e)>-1){var t=n.data.ids.indexOf(e);a.call(n,"beforeMove",{id:e,index:t,element:n.elements.field[t]}),n.data.activeId=e,n.data.index=t,d.call(n,e),a.call(n,"afterMove",{id:e,index:t,element:n.elements.field[t]})}return n}function o(e){var n=this,t=n.data.ids[n.data.index+e];if(void 0!==t)return i.call(n,t)}function a(a,r){function l(a,l){var u=[r,{move:{moveTo:i,moveBy:o},dom:{queryElements:e,bindEvents:t,readData:n},slug:{getSlug:c,setSlug:d}}];l&&u.push(l),a.apply(f,u)}var f=this;f.plugins.forEach(function(e){l(e[0][a],e[1])}),l(f.events[a])}function r(){var i=this,o=c.call(i);return a.call(i,"beforeInit",{}),i.elements=e(i.options.elements),i.options.autobind&&t.call(i,i.elements,i.options.elements),s(i.elements.field,function(e){var t=n(e,i.options.elements.prefix,i.options.elements.fields.field);i.data.ids.push(t),e===i.elements.fieldDefault[0]&&(i.data.defaultId=t)}),""!==o?i.moveTo(o):i.moveTo(i.data.defaultId),a.call(i,"afterInit",{}),i}var l=window,f=l.document,u=l.location,s=function(e,n){[].forEach.call(e,function(e){n(e)})},d=function(e){u.hash=this.options.slug.prepend+e},c=function(){return u.hash.replace(this.options.slug.prepend,"").replace("#","")},v=function(e,n,t){var i=this;i.options={autobind:e.autobind||!0,slug:{prepend:""},elements:{prefix:"router",fields:{field:"section",fieldDefault:"default",link:"href",pagination:"pagin",source:"src"}}},i.events={beforeInit:n.beforeInit||function(){},afterInit:n.afterInit||function(){},beforeMove:n.beforeMove||function(){},afterMove:n.afterMove||function(){}},i.plugins=t,i.data={ids:[],activeId:null,defaultId:null,index:0},i.elements={}};return v.prototype={init:r,moveTo:i,moveBy:o,moveForward:function(){return this.moveBy(1)},moveBackward:function(){return this.moveBy(-1)}},v}();