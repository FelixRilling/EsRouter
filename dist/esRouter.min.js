"use strict";var esRouter=function(){function e(){function e(e,t){return r.querySelectorAll("[data-"+e+"-"+t+"]")}var t=this,n=t.options.elements,i=Object.keys(n.fields),o={};return i.forEach(function(t,i){o[t]=e(n.prefix,n.fields[t])}),o}function t(e,t,n){var i=function(e,t){return e+t.substr(0,1).toUpperCase()+t.substr(1)};return e.dataset[i(t,n)]}function n(e){function n(e,t){c(e,function(e){e.addEventListener("click",function(n){t(e,n)},!1)})}var i=this;n(e.link,function(e){var n=t(e,i.options.elements.prefix,i.options.elements.fields.link);i.moveTo(n)}),n(e.pagination,function(e){var n=t(e,i.options.elements.prefix,i.options.elements.fields.pagination);i.moveBy(Number(n))})}function i(){var e=this;c(e.elements.field,function(n){var i=t(n,e.options.elements.prefix,e.options.elements.fields.field);e.data.ids.push(i),n===e.elements.fieldDefault[0]&&(e.data.defaultId=i)})}function o(){var t=this,o=v.call(t);t.events.beforeInit.call(t),t.elements=e.call(t),t.options.autobind&&n.call(t,t.elements),i.call(t),""!==o?t.moveTo(o):t.moveTo(t.data.defaultId),t.events.afterInit.call(t)}function a(e){var t=this,n=t.data.ids.indexOf(e);t.events.beforeMove.call(t,e,n,t.elements.field[n]),t.data.activeId=e,t.data.index=n,d.call(t,e),t.events.afterMove.call(t,e,n,t.elements.field[n])}function s(e){var t=this;t.data.ids.indexOf(e)!==-1?a.call(t,e):console.info("MISSING "+e)}function l(e){var t=this,n=t.data.ids[t.data.index+e];"undefined"!=typeof n?s.call(t,n):console.info("MISSING "+e)}var f=window,r=f.document,u=f.location,c=function(e,t){[].forEach.call(e,function(e){t(e)})},d=function(e){u.hash=this.options.slug.start+e},v=function(){return u.hash.replace(this.options.slug.start,"").replace("#","")},p=function(e,t,n){var i=this;i.options={autobind:e.autobind||!0,slug:{start:""},elements:{prefix:"router",fields:{field:"section",fieldDefault:"default",link:"href",pagination:"pagin",source:"src"}}},i.events={beforeInit:t.beforeInit||function(){},afterInit:t.afterInit||function(){},beforeMove:t.beforeMove||function(){},afterMove:t.afterMove||function(){}},i.plugins=n,i.data={ids:[],activeId:null,defaultId:null,index:0},i.elements={}};return p.prototype={init:o,moveTo:s,moveBy:l,moveForward:function(){this.moveBy(1)},moveBackward:function(){this.moveBy(-1)}},p}();